"use strict";(self.webpackChunkcontrols_visualizer=self.webpackChunkcontrols_visualizer||[]).push([[450],{7256:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(7294),r=n(5861),i=n(7757),s=n.n(i),c=n(2318),l=n.n(c),o=n(6633),u=n.n(o),m=n(4918),d=n(5785);function p(e,t,n,a,r){return function(i){var s=t.canvasWidth,c=t.canvasHeight,l=i.color(0,255,0),o=i.color(0,50,255),u=i.color(255,50,10),m=0,p=!1,f=[];if(e)for(var h=e.points[e.targetNodeIndex];h;)f.push(h),h=e.points[h.parentIndex];var g=f.length-1;function v(){switch(a.value){case"Circle":var e={shape:"circle",x:i.mouseX,y:i.mouseY,r:t.circle.radius};n((function(t){return Object.assign({},t,{obstacles:[].concat((0,d.Z)(t.obstacles),[e])})}));break;case"Rectangle":var r={shape:"rectangle",x:i.mouseX,y:i.mouseY,w:t.rectangle.width,h:t.rectangle.height};n((function(e){return Object.assign({},e,{obstacles:[].concat((0,d.Z)(e.obstacles),[r])})}));break;case"Start Node":n((function(e){return Object.assign({},e,{startPoint:Object.assign({},e.startPoint,{x:i.mouseX,y:i.mouseY})})}));break;case"Goal Node":n((function(e){return Object.assign({},e,{goalPoint:Object.assign({},e.goalPoint,{x:i.mouseX,y:i.mouseY})})}));break;default:return}}i.setup=function(){i.createCanvas(s,c).mousePressed(v),i.background(55),t&&e&&(!function(){i.stroke(l),i.fill(l);var e=t.startPoint,n=e.x,a=e.y,r=e.radius,s=t.goalPoint,c=s.x,u=s.y,m=s.radius;i.circle(n,a,2*r),i.stroke(i.color(0)),i.fill(o),i.circle(c,u,2*m)}(),r||function(){i.stroke(o),i.strokeWeight(2),e.points.forEach((function(t){var n=t.x,a=t.y;if(i.fill(l),i.circle(n,a,3),-1!==t.parentIndex){var r=e.points[t.parentIndex],s=r.x,c=r.y;i.line(n,a,s,c)}}));var t=e.points[e.targetNodeIndex];for(i.stroke(l),i.strokeWeight(3);-1!==t.parentIndex;){var n=e.points[t.parentIndex],a=n.x,r=n.y;i.line(t.x,t.y,a,r),t=e.points[t.parentIndex]}}(),i.stroke(u),i.fill(u),t.obstacles.forEach((function(e){switch(e.shape){case"rectangle":i.rect(e.x,e.y,e.w,e.h);break;case"circle":i.circle(e.x,e.y,2*e.r)}})))},i.draw=function(){r&&e&&t&&(function(){i.stroke(o),i.strokeWeight(2);var t=e.points[m];if(i.fill(l),i.circle(t.x,t.y,3),-1!==t.parentIndex){var n=e.points[t.parentIndex];i.line(t.x,t.y,n.x,n.y)}m<e.points.length-1?m++:p=!0}(),function(){if(p){var e=f[g];i.stroke(l),i.strokeWeight(3);var t=f[g-1];i.line(e.x,e.y,t.x,t.y),g>1&&g--}}())}}}var f=n(161);function h(e){var t={};return t.start=[e.startPoint.x,e.startPoint.y],t.goal=[e.goalPoint.x,e.goalPoint.y],t.goalRadius=e.goalPoint.radius,t.width=e.canvasWidth,t.height=e.canvasHeight,t.d_max=e.stepSize,t.obstacles=e.obstacles.map((function(e){switch(e.shape){case"rectangle":var t=e.x,n=e.y,a=t+e.w,r=n+e.h;return{shape:e.shape,definition:[t,n,a,r]};case"circle":return{shape:e.shape,definition:[e.x,e.y,e.r]};default:return null}})),t}var g=n(5763),v=n.n(g),x=n(9547);function b(e){var t=e.value,n=e.setValue,r=e.min,i=e.max,s=e.step,c=e.color;return a.createElement("div",{className:"flex flex-col justify-center items-center"},a.createElement("p",null,"The Start Node Radius is: ",t),a.createElement(x.Z,{value:t,setValue:n,min:r,max:i,step:s,color:c}))}function E(e){var t=e.value,n=e.setValue,r=e.min,i=e.max,s=e.step,c=e.color;return a.createElement("div",null,a.createElement("p",null,"The Goal Area Radius is: ",t),a.createElement(x.Z,{value:t,setValue:n,min:r,max:i,step:s,color:c}))}function y(e){var t=e.value,n=e.setValue,r=e.min,i=e.max,s=e.step,c=e.color;return a.createElement("div",null,a.createElement("p",null,"Set the radius of the circle obstacles: ",t),a.createElement(x.Z,{value:t,setValue:n,min:r,max:i,step:s,color:c}))}function k(e){var t=e.value,n=e.setValue,r=e.min,i=e.max,s=e.step,c=e.color;return a.createElement("div",null,a.createElement("p",null,"Set the max step size for the RRT algorithm: ",t),a.createElement(x.Z,{value:t,setValue:n,min:r,max:i,step:s,color:c}))}function P(e){var t=e.width,n=e.height,r=e.setWidth,i=e.setHeight,s=e.min,c=e.max,l=e.step,o=e.color;return a.createElement("div",null,a.createElement("h3",{className:"text-lg font-bold"},"Set the Dimensions of the Rectangular Obstacles"),a.createElement("p",null,"Set the Width: ",t),a.createElement(x.Z,{value:t,setValue:r,min:s,max:c,step:l,color:o}),a.createElement("p",null,"Set the Height: ",n),a.createElement(x.Z,{value:n,setValue:i,min:s,max:c,step:l,color:o}))}var w=[{id:1,value:"Start Node",unavailable:!1},{id:2,value:"Goal Node",unavailable:!1},{id:3,value:"Rectangle",unavailable:!1},{id:4,value:"Circle",unavailable:!1},{id:5,value:"Step Size",unavailable:!1}],R={obstacles:[],startPoint:{x:15,y:15,radius:15,minRadius:1,maxRadius:100,step:1},goalPoint:{x:300,y:300,radius:30,minRadius:1,maxRadius:100,step:1},stepSize:28,circle:{radius:20,minRadius:1,maxRadius:100,step:1},rectangle:{height:20,width:20,minLength:1,maxLength:100,step:1},canvasWidth:600,canvasHeight:600};function j(){var e=(0,a.useState)(null),t=e[0],n=e[1],i=(0,a.useState)(R),c=i[0],o=i[1],d=(0,a.useState)("circle"),g=d[0],x=d[1],j=(0,a.useState)(!1),S=j[0],N=j[1],O=(0,a.useState)(!0),V=O[0],W=O[1],Z=(0,f.N)(c,250),I=(0,a.useRef)();function z(){return(z=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return N(!0),"https://serene-coast-64325.herokuapp.com/rrt",e.next=6,u().post("https://serene-coast-64325.herokuapp.com/rrt",h(c));case 6:t=e.sent,N(!1),W(!0),n(t.data);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.useEffect)((function(){function e(){return(e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().post("https://serene-coast-64325.herokuapp.com/rrt",h(c));case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,a.useEffect)((function(){var e=new(l())(p(t,c,o,g,V),I.current);return W(!1),function(){e.remove()}}),[t,Z,g]),a.createElement("div",{className:"flex flex-col items-center justify-center h-full relative"},a.createElement("div",null,S?a.createElement("div",{className:"flex items-center justify-center space-x-3"},a.createElement("p",null,'"Waiting for backend to deliver results!"'),a.createElement(v(),{type:"spinningBubbles",color:"blue",width:"24px",height:"24px"})):""),a.createElement("div",{className:"cursor-pointer",style:{height:c.canvasHeight+"px",width:c.canvasWidth+"px"},ref:I}),a.createElement(m.Z,{options:w,updateParentSelection:x}),a.createElement("div",{className:"flex justify-center items-center space-x-3"},a.createElement("button",{className:"bg-blue-300 px-3 py-2 m-3 rounded-md focus:outline-none focus:ring focus:ring-blue-400 hover:ring hover:ring-blue-400 disabled:cursor-not-allowed",onClick:function(){return function(){return z.apply(this,arguments)}()},disabled:S},"Generate the RRT Map!"),a.createElement("button",{className:"bg-red-300 px-3 py-2 m-3 rounded-md focus:outline-none focus:ring focus:ring-red-400 hover:ring hover:ring-red-400",onClick:function(){return o(Object.assign({},c,{obstacles:[]}))}},"Clear Obstacles (X)")),a.createElement("div",{className:"flex flex-col"},{"Start Node":a.createElement(b,{value:c.startPoint.radius,setValue:function(e){o((function(t){return Object.assign({},t,{startPoint:Object.assign({},t.startPoint,{radius:e})})}))},min:c.startPoint.minRadius,max:c.startPoint.maxRadius,step:c.startPoint.step,color:"#0079D9"}),"Goal Node":a.createElement(E,{value:c.goalPoint.radius,setValue:function(e){o((function(t){return Object.assign({},t,{goalPoint:Object.assign({},t.goalPoint,{radius:e})})}))},min:c.goalPoint.minRadius,max:c.goalPoint.maxRadius,step:c.goalPoint.step,color:"#bad7f2"}),Rectangle:a.createElement(P,{width:c.rectangle.width,height:c.rectangle.height,setWidth:function(e){o((function(t){return Object.assign({},t,{rectangle:Object.assign({},t.rectangle,{width:e})})}))},setHeight:function(e){o((function(t){return Object.assign({},t,{rectangle:Object.assign({},t.rectangle,{height:e})})}))},min:c.rectangle.minLength,max:c.rectangle.maxLength,step:c.rectangle.step,color:"#baf2bb"}),Circle:a.createElement(y,{value:c.circle.radius,setValue:function(e){o((function(t){return Object.assign({},t,{circle:Object.assign({},t.circle,{radius:e})})}))},min:c.circle.minRadius,max:c.circle.maxRadius,step:c.circle.step,color:"#bad7f2"}),"Step Size":a.createElement(k,{value:c.stepSize,setValue:function(e){o((function(t){return Object.assign({},t,{stepSize:e})}))},min:10,max:100,step:1,color:"#bad7f2"})}[g.value]))}var S=function(){return a.createElement("main",null,a.createElement("div",{className:"bg-blue-300 text-6xl flex items-center justify-center py-6 mb-6"},"Example RRT"),"undefined"!=typeof window&&a.createElement(j,null))}}}]);
//# sourceMappingURL=component---src-pages-rrt-js-cf3b5635a6a5c1af359d.js.map